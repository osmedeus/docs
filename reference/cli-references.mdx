---
title: CLI Reference
description: Complete command-line interface reference for Osmedeus
---

# CLI Reference

Complete reference for all Osmedeus command-line commands and options.

## Global Options

These options are available for all commands:

| Option | Description |
|--------|-------------|
| `--config` | Path to config file (default: `~/.osmedeus/config.yaml`) |
| `--debug` | Enable debug logging |
| `--quiet` | Suppress non-essential output |
| `--no-color` | Disable colored output |
| `--help`, `-h` | Show help |

## run

Execute workflows against targets.

### Basic Usage

```bash
# Run a flow
osmedeus run -f <flow_name> -t <target>

# Run a module
osmedeus run -m <module_name> -t <target>

# Run multiple modules
osmedeus run -m <module1> -m <module2> -t <target>

# Run with target file
osmedeus run -f general -T targets.txt
```

### Options

| Option | Short | Description |
|--------|-------|-------------|
| `--flow` | `-f` | Flow workflow to run |
| `--module` | `-m` | Module workflow to run (repeatable) |
| `--target` | `-t` | Target to scan |
| `--targets` | `-T` | File containing targets |
| `--params` | `-P` | Params file (YAML) |
| `--param` | `-p` | Single param (key=value, repeatable) |
| `--concurrency` | `-c` | Concurrent target scans (default: 1) |
| `--timeout` | | Run timeout (e.g., 2h, 30m) |
| `--repeat` | | Repeat execution continuously |
| `--exclude` | `-x` | Exclude modules (comma-separated) |
| `--threads-hold` | | Override thread count |
| `--dry-run` | | Validate without executing |
| `--progress` | `-G` | Show progress bar |
| `--chunk` | | Chunk mode for distributed scanning |
| `--chunk-index` | | Chunk index (1-based) |
| `--chunk-size` | | Items per chunk |
| `--workspace` | `-w` | Custom workspace name |
| `--resume` | | Resume from previous state |

### Examples

```bash
# Basic flow scan
osmedeus run -f general -t example.com

# Module with parameters
osmedeus run -m subdomain-enum -t example.com -p threads=20

# Multiple targets with concurrency
osmedeus run -f general -T targets.txt -c 5

# With timeout
osmedeus run -m vuln-scan -t example.com --timeout 2h

# Exclude modules in flow
osmedeus run -f general -t example.com -x port-scan,vuln-scan

# Dry run (validate only)
osmedeus run -f general -t example.com --dry-run

# Chunk mode for distributed scanning
osmedeus run -f general -T large-targets.txt --chunk --chunk-index 1 --chunk-size 100
```

---

## workflow

Manage and inspect workflows.

### workflow list

List all available workflows.

```bash
osmedeus workflow list
osmedeus workflow ls
```

**Options:**

| Option | Description |
|--------|-------------|
| `--tags` | Filter by tags (comma-separated) |
| `--show-tags` | Show tags column in output |
| `--verbose`, `-v` | Show workflows with errors |

**Examples:**

```bash
# List all workflows
osmedeus workflow ls

# Filter by tags
osmedeus workflow ls --tags recon,fast

# Show tags column
osmedeus workflow ls --show-tags
```

### workflow show

Display workflow details.

```bash
osmedeus workflow show <workflow_name>
```

**Options:**

| Option | Description |
|--------|-------------|
| `--verbose`, `-v` | Show detailed variable descriptions |
| `--yaml` | Show raw YAML with syntax highlighting |

**Examples:**

```bash
# Show workflow details
osmedeus workflow show subdomain-enum

# Show raw YAML
osmedeus workflow show subdomain-enum --yaml

# Verbose with all variables
osmedeus workflow show subdomain-enum -v
```

### workflow validate / lint

Validate and lint workflow YAML files.

```bash
osmedeus workflow validate <name|path|folder>
osmedeus workflow lint <name|path|folder>
```

**Options:**

| Option | Description |
|--------|-------------|
| `--check` | Exit with error code if issues found (for CI) |
| `--format` | Output format: `pretty`, `json`, `github` |
| `--severity` | Minimum severity: `info`, `warning`, `error` |
| `--disable` | Disable rules (comma-separated) |
| `--fail-fast` | Stop on first validation failure |

**Lint Rules:**

| Rule | Severity | Description |
|------|----------|-------------|
| `missing-required-field` | warning | Required fields (name, kind, type) missing |
| `duplicate-step-name` | warning | Multiple steps with same name |
| `empty-step` | warning | Step has no executable content |
| `unused-variable` | info | Variable exported but never used |
| `undefined-variable` | warning | Variable referenced but not defined |
| `invalid-goto` | warning | Decision goto references non-existent step |
| `invalid-depends-on` | warning | depends_on references non-existent step |
| `circular-dependency` | warning | Circular step dependencies detected |

**Examples:**

```bash
# Validate by workflow name
osmedeus workflow validate subdomain-enum

# Validate YAML file
osmedeus workflow lint ./my-workflow.yaml

# Validate all workflows in folder
osmedeus workflow validate /path/to/workflows/

# CI mode - exit with error if issues found
osmedeus workflow lint my-workflow.yaml --check

# JSON output for tooling
osmedeus workflow lint my-workflow.yaml --format json

# GitHub Actions annotations
osmedeus workflow lint . --format github

# Only show warnings and errors
osmedeus workflow lint . --severity warning

# Disable specific rules
osmedeus workflow lint . --disable unused-variable,empty-step

# Stop on first error
osmedeus workflow validate . --fail-fast
```

**JSON Output Format:**

```json
{
  "file_path": "workflows/test.yaml",
  "issues": [
    {
      "rule": "undefined-variable",
      "severity": "warning",
      "message": "Variable 'unknown_var' is not defined",
      "suggestion": "Check that the variable is defined in params or a previous step's exports",
      "line": 15,
      "column": 12,
      "field": "steps[2].command"
    }
  ],
  "errors": 0,
  "warnings": 1,
  "infos": 0
}
```

**GitHub Actions Format:**

```
::warning file=workflows/test.yaml,line=15,col=12::undefined-variable: Variable 'unknown_var' is not defined
```

---

## func

Execute and inspect utility functions.

### func list

List all available utility functions.

```bash
osmedeus func list
osmedeus func ls
```

**Options:**

| Option | Description |
|--------|-------------|
| `--category` | Filter by category |
| `--search` | Search function names/descriptions |

### func execute

Execute a function expression.

```bash
osmedeus func execute '<expression>'
osmedeus func e '<expression>'
```

**Examples:**

```bash
# Check file exists
osmedeus func e 'fileExists("/tmp/test.txt")'

# Count lines
osmedeus func e 'fileLength("/path/to/file.txt")'

# String operations
osmedeus func e 'trim("  hello  ")'

# With variables
osmedeus func e 'log_info("{{target}}")' -p target=example.com
```

---

## server

Start the REST API server.

```bash
osmedeus server
```

**Options:**

| Option | Description |
|--------|-------------|
| `--port` | Server port (default: 8080) |
| `--host` | Bind address (default: 0.0.0.0) |
| `--master` | Run as distributed master |
| `--token` | API authentication token |

**Examples:**

```bash
# Start server
osmedeus server --port 8080

# As distributed master
osmedeus server --master --port 8080
```

---

## worker

Manage distributed workers.

### worker join

Join as a distributed worker.

```bash
osmedeus worker join --master <master_url>
```

**Options:**

| Option | Description |
|--------|-------------|
| `--master` | Master server URL |
| `--token` | Authentication token |
| `--name` | Worker name |

---

## install

Install external binaries and configure environment.

### install binary

Install security tools.

```bash
osmedeus install binary --name <binary_name>
osmedeus install binary --all
```

**Options:**

| Option | Description |
|--------|-------------|
| `--name` | Specific binary to install |
| `--all` | Install all binaries |
| `--check` | Check installation status |
| `--nix-build-install` | Install via Nix |
| `--nix-installation` | Install Nix package manager |
| `--list-registry-nix-build` | List Nix-available binaries |
| `--list-registry-direct-fetch` | List direct-download binaries |

**Examples:**

```bash
# Install specific binary
osmedeus install binary --name nuclei

# Install all binaries
osmedeus install binary --all

# Check status
osmedeus install binary --name nuclei --check

# Install via Nix
osmedeus install binary --nix-build-install

# List available binaries
osmedeus install binary --list-registry-nix-build
```

### install env

Configure shell environment.

```bash
osmedeus install env
osmedeus install env --all
```

**Options:**

| Option | Description |
|--------|-------------|
| `--all` | Add to all shell configs |
| `--shell` | Specific shell (bash, zsh, fish) |

---

## update

Self-update Osmedeus.

```bash
osmedeus update
osmedeus update --check
```

**Options:**

| Option | Description |
|--------|-------------|
| `--check` | Check for updates without installing |

---

## snapshot

Export and import workspace archives.

### snapshot export

Export workspace as ZIP archive.

```bash
osmedeus snapshot export <workspace>
```

**Options:**

| Option | Description |
|--------|-------------|
| `--output` | Output file path |
| `--include-artifacts` | Include all artifacts |

### snapshot import

Import workspace from archive.

```bash
osmedeus snapshot import <source>
```

**Source formats:**

- Local file path
- HTTP/HTTPS URL

### snapshot list

List available snapshots.

```bash
osmedeus snapshot list
```

---

## db

Database management commands.

### db list

List database entries.

```bash
osmedeus db list assets
osmedeus db list vulnerabilities
osmedeus db list workspaces
```

**Options:**

| Option | Description |
|--------|-------------|
| `--workspace` | Filter by workspace |
| `--format` | Output format (table, json, csv) |

### db export

Export database to file.

```bash
osmedeus db export --workspace <name> --output <file>
```

---

## health

Check system health and configuration.

```bash
osmedeus health
```

**Checks performed:**

- Configuration file status
- Database connectivity
- External binaries availability
- Workflows loaded count
- Disk space
- Network connectivity

**Output Example:**

```
Health Check Results
━━━━━━━━━━━━━━━━━━━━

Configuration
  ✓ Config file loaded: ~/.osmedeus/config.yaml
  ✓ Base folder: ~/osmedeus-base
  ✓ Workflows path: ~/osmedeus-base/workflows

Database
  ✓ Database connected: sqlite
  ✓ Assets count: 15,234
  ✓ Vulnerabilities count: 423

Binaries
  ✓ nuclei: installed (v3.0.0)
  ✓ httpx: installed (v1.3.0)
  ✗ subfinder: not found

Workflows
  ✓ Flows loaded: 5
  ✓ Modules loaded: 32
  ✓ Fragments loaded: 8

System
  ✓ Disk space: 45GB available
  ✓ Memory: 8GB available
```

---

## Usage Examples

Show all usage examples.

```bash
osmedeus --usage-example
```

This displays comprehensive examples for all major use cases.

---

## Environment Variables

| Variable | Description |
|----------|-------------|
| `OSM_CONFIG` | Config file path |
| `OSM_BASE` | Base folder path |
| `OSM_WORKSPACES` | Workspaces folder path |
| `OSM_DEBUG` | Enable debug mode |
| `OSM_TOKEN` | API authentication token |
