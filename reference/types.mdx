---
title: "Type Definitions"
icon: "brackets"
---

This document describes all type constants and enums defined in `internal/core/`.

## WorkflowKind

Defines the type of workflow.

```go
type WorkflowKind string
```

| Constant | Value | Description |
|----------|-------|-------------|
| `KindModule` | `"module"` | Single execution unit with steps |
| `KindFlow` | `"flow"` | Orchestrates multiple modules |

**Helper Methods:**
- `IsModule()` - Returns true if workflow is a module
- `IsFlow()` - Returns true if workflow is a flow

## StepType

Defines the execution type for a step.

```go
type StepType string
```

| Constant | Value | Description |
|----------|-------|-------------|
| `StepTypeBash` | `"bash"` | Execute shell commands |
| `StepTypeFunction` | `"function"` | Execute utility functions |
| `StepTypeParallel` | `"parallel-steps"` | Execute steps concurrently |
| `StepTypeForeach` | `"foreach"` | Iterate over input items |
| `StepTypeRemoteBash` | `"remote-bash"` | Execute via Docker/SSH |
| `StepTypeHTTP` | `"http"` | Make HTTP requests |
| `StepTypeLLM` | `"llm"` | LLM/AI interaction |

**Helper Methods:**
- `IsBashStep()` - Check if step is bash
- `IsFunctionStep()` - Check if step is function
- `IsParallelStep()` - Check if step is parallel-steps
- `IsForeachStep()` - Check if step is foreach
- `IsRemoteBashStep()` - Check if step is remote-bash
- `IsHTTPStep()` - Check if step is HTTP
- `IsLLMStep()` - Check if step is LLM

## RunnerType

Defines the execution environment.

```go
type RunnerType string
```

| Constant | Value | Description |
|----------|-------|-------------|
| `RunnerTypeHost` | `"host"` | Execute on local machine (default) |
| `RunnerTypeDocker` | `"docker"` | Execute in Docker container |
| `RunnerTypeSSH` | `"ssh"` | Execute on remote machine via SSH |

## TriggerType

Defines when a workflow should execute.

```go
type TriggerType string
```

| Constant | Value | Description |
|----------|-------|-------------|
| `TriggerCron` | `"cron"` | Schedule via cron expression |
| `TriggerEvent` | `"event"` | Trigger on system event |
| `TriggerWatch` | `"watch"` | Trigger on file/directory changes |
| `TriggerManual` | `"manual"` | Manual CLI execution |

**Helper Methods:**
- `IsCron()` - Returns true if cron trigger
- `IsEvent()` - Returns true if event trigger
- `IsWatch()` - Returns true if watch trigger
- `IsManual()` - Returns true if manual trigger
- `IsEnabled()` - Returns true if trigger is enabled
- `MatchesTopic(topic)` - Check if event trigger matches topic
- `HasFilters()` - Check if event trigger has filters
- `GetFilters()` - Get filter expressions

## VariableType

Defines types for variable validation in dependencies.

```go
type VariableType string
```

| Constant | Value | Description |
|----------|-------|-------------|
| `VarTypeDomain` | `"domain"` | Domain name |
| `VarTypePath` | `"path"` | File path |
| `VarTypeNumber` | `"number"` | Numeric value |
| `VarTypeFile` | `"file"` | File path (must exist) |
| `VarTypeFolder` | `"folder"` | Folder path (must exist) |
| `VarTypeString` | `"string"` | Arbitrary string |
| `VarTypeSubdomain` | `"subdomain"` | Subdomain (domain with >=2 dots) |
| `VarTypeURL` | `"url"` | HTTP/HTTPS URL |
| `VarTypeCIDR` | `"cidr"` | CIDR notation (e.g., 192.168.0.0/24) |
| `VarTypeRepo` | `"repo"` | Git repository URL |

**Validation:**
Use `MatchesVariableType(value, varType)` to validate values.

## TargetType

Defines allowed target types for workflows.

```go
type TargetType string
```

| Constant | Value | Description |
|----------|-------|-------------|
| `TargetTypeDomain` | `"domain"` | Domain name |
| `TargetTypeSubdomain` | `"subdomain"` | Subdomain |
| `TargetTypeURL` | `"url"` | HTTP/HTTPS URL |
| `TargetTypeCIDR` | `"cidr"` | CIDR notation |
| `TargetTypeRepo` | `"repo"` | Git repository |
| `TargetTypePath` | `"path"` | File path |
| `TargetTypeFile` | `"file"` | File (must exist) |
| `TargetTypeFolder` | `"folder"` | Folder (must exist) |
| `TargetTypeNumber` | `"number"` | Numeric value |
| `TargetTypeString` | `"string"` | Arbitrary string |

**Validation:**
Use `MatchesTargetType(target, targetType)` to validate targets.

## ActionType

Defines action types for on_success and on_error handlers.

```go
type ActionType string
```

| Constant | Value | Description |
|----------|-------|-------------|
| `ActionLog` | `"log"` | Log a message |
| `ActionAbort` | `"abort"` | Abort workflow execution |
| `ActionContinue` | `"continue"` | Continue execution |
| `ActionExport` | `"export"` | Export variable |
| `ActionRun` | `"run"` | Run another step |
| `ActionNotify` | `"notify"` | Send notification |

## StepStatus

Tracks individual step execution state.

```go
type StepStatus string
```

| Constant | Value | Description |
|----------|-------|-------------|
| `StepStatusPending` | `"pending"` | Waiting to execute |
| `StepStatusRunning` | `"running"` | Currently executing |
| `StepStatusSuccess` | `"success"` | Completed successfully |
| `StepStatusFailed` | `"failed"` | Execution failed |
| `StepStatusSkipped` | `"skipped"` | Skipped (pre-condition failed) |

## RunStatus

Tracks overall workflow execution state.

```go
type RunStatus string
```

| Constant | Value | Description |
|----------|-------|-------------|
| `RunStatusPending` | `"pending"` | Waiting to start |
| `RunStatusRunning` | `"running"` | Currently executing |
| `RunStatusCompleted` | `"completed"` | Completed successfully |
| `RunStatusFailed` | `"failed"` | Execution failed |
| `RunStatusCancelled` | `"cancelled"` | User-cancelled |
| `RunStatusSkipped` | `"skipped"` | Skipped (pre-conditions) |

## LLM Types

### LLMMessageRole

Defines message roles in LLM conversations.

```go
type LLMMessageRole string
```

| Constant | Value | Description |
|----------|-------|-------------|
| `LLMRoleSystem` | `"system"` | System prompt |
| `LLMRoleUser` | `"user"` | User message |
| `LLMRoleAssistant` | `"assistant"` | Assistant response |
| `LLMRoleTool` | `"tool"` | Tool response |

### LLMContentType

Defines content types in LLM messages.

```go
type LLMContentType string
```

| Constant | Value | Description |
|----------|-------|-------------|
| `LLMContentTypeText` | `"text"` | Plain text content |
| `LLMContentTypeImageURL` | `"image_url"` | Image URL content |

## DecisionConfig

Supports switch/case routing for conditional workflow branching.

```go
type DecisionConfig struct {
    Switch  string                    // Template variable to evaluate
    Cases   map[string]DecisionCase   // Case values mapped to goto steps
    Default *DecisionCase             // Default case if no matches
}

type DecisionCase struct {
    Goto string // Target step name (use "_end" to terminate)
}
```

**Example YAML:**
```yaml
decision:
  switch: "{{variable}}"
  cases:
    "value1": { goto: step-a }
    "value2": { goto: step-b }
  default:
    goto: fallback-step
```

## Project Metadata

Constants defined in `internal/core/constants.go`:

```go
VERSION            = "v5.0.0"
DESC               = "A Modern Orchestration Engine for Security"
BINARY             = "osmedeus"
SNAPSHOT           = "osm"
AUTHOR             = "@j3ssie"
DOCS               = "https://docs.osmedeus.org"
LICENSE            = "open-source"
REPO_URL           = "https://github.com/j3ssie/osmedeus"
DEFAULT_BASE_REPO  = "https://github.com/osmedeus/osmedeus-base.git"
METADATA           = "https://metadata.osmedeus.org"
DefaultUA          = "Mozilla/5.0 (compatible; Osmedeus/VERSION; +REPO_URL)"
```

## Summary Table

| Category | Type Name | Values |
|----------|-----------|--------|
| Workflow | WorkflowKind | module, flow |
| Step | StepType | bash, function, parallel-steps, foreach, remote-bash, http, llm |
| Runner | RunnerType | host, docker, ssh |
| Trigger | TriggerType | cron, event, watch, manual |
| Variable | VariableType | domain, path, number, file, folder, string, subdomain, url, cidr, repo |
| Target | TargetType | domain, subdomain, url, cidr, repo, path, file, folder, number, string |
| Action | ActionType | log, abort, continue, export, run, notify |
| Step Status | StepStatus | pending, running, success, failed, skipped |
| Run Status | RunStatus | pending, running, completed, failed, cancelled, skipped |
| LLM Role | LLMMessageRole | system, user, assistant, tool |
| LLM Content | LLMContentType | text, image_url |
